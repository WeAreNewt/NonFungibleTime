name: Build dist
description: Build static files for frontend
env:
  REACT_APP_SELECTED_ENVIRONMENT: ${{ secrets.REACT_APP_SELECTED_ENVIRONMENT }}
inputs:
  WORK_DIR:
    description: Path to source code
    required: true
runs:
  using: 'composite'
  steps:
    - uses: actions/setup-node@v2
      with:
        node-version: '14.16.1'
    - name: Install NPM packages
      shell: sh
      working-directory: '${{inputs.WORK_DIR}}'
      run: npm i
    - name: Build frontend
      shell: sh
      working-directory: '${{inputs.WORK_DIR}}'
      run: npm run build
